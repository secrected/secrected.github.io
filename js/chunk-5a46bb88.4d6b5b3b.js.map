{"version":3,"sources":["webpack:///./src/views/StudyImg.vue?32e9","webpack:///./src/views/StudyImg.vue?6eee","webpack:///src/views/StudyImg.vue","webpack:///./src/views/StudyImg.vue?90aa","webpack:///./src/views/StudyImg.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_StudyImg_vue_vue_type_style_index_0_id_45acd6ac_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_StudyImg_vue_vue_type_style_index_0_id_45acd6ac_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","nav","key","class","current","on","click","$event","selectNav","_v","_s","item","title","attrs","data-href","keyword","toDetail","href","src","alt","directives","name","rawName","value","currentPage","totalPages","expression","ontouchstart","loadMore","staticRenderFns","DOMAIN","StudyImgvue_type_script_lang_js_","data","navs","album","computed","eg","total","mounted","document","body","querySelector","style","display","localStorage","getItem","getAlbum","prompt","setItem","methods","_getAlbum","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","index","result","_args","arguments","wrap","_context","prev","next","length","undefined","store","url","method","domain","cate","catch","e","response","sent","concat","stop","apply","console","log","newRoute","$router","resolve","path","window","open","views_StudyImgvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"kHAAA,IAAAA,EAAAC,EAAA,QAAAC,EAAAD,EAAAE,EAAAH,GAAsiBE,EAAG,8CCAziB,IAAAE,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,cAAyB,CAAAF,EAAA,OAAYE,YAAA,gBAA2BN,EAAAO,GAAAP,EAAA,cAAAQ,GAAiC,OAAAJ,EAAA,QAAkBK,IAAAD,EAAAE,MAAAV,EAAAW,UAAAH,EAAA,YAAAI,GAAA,CAAsDC,MAAA,SAAAC,GAAyB,OAAAd,EAAAe,UAAAP,MAA4B,CAAAR,EAAAgB,GAAA,WAAAhB,EAAAiB,GAAAT,GAAA,cAA4C,GAAAJ,EAAA,OAAeE,YAAA,eAA0BN,EAAAO,GAAAP,EAAA,eAAAkB,GAAmC,OAAAd,EAAA,OAAiBK,IAAAS,EAAAC,MAAAb,YAAA,mBAAAc,MAAA,CAAqDC,YAAA,WAAArB,EAAAsB,QAAA,QAAAJ,EAAA,MAA+DN,GAAA,CAAKC,MAAA,SAAAC,GAAyB,OAAAd,EAAAuB,SAAAL,EAAAM,KAAAN,EAAAC,UAA6C,CAAAf,EAAA,OAAYE,YAAA,0BAAqC,CAAAF,EAAA,OAAYgB,MAAA,CAAOK,IAAA,WAAAzB,EAAAsB,QAAA,IAAAJ,EAAA,MAAAQ,IAAA,QAAgEtB,EAAA,QAAeE,YAAA,0BAAqC,CAAAN,EAAAgB,GAAAhB,EAAAiB,GAAAC,EAAAC,cAAiC,GAAAf,EAAA,OAAeE,YAAA,oBAA+B,CAAAF,EAAA,QAAauB,WAAA,EAAaC,KAAA,OAAAC,QAAA,SAAAC,MAAA7B,KAAA8B,YAAA9B,KAAA+B,WAAAC,WAAA,uCAAwHb,MAAA,CAASc,aAAA,IAAkBtB,GAAA,CAAKC,MAAAb,EAAAmC,WAAsB,CAAAnC,EAAAgB,GAAA,uBAC/lCoB,EAAA,uCCyBAC,EAAA,sCAEAC,EAAA,CACAC,KADA,WAEA,OACA5B,QAAA,KACA6B,KAAA,yDACAlB,QAAA,GACAmB,MAAA,GACAV,YAAA,IAGAW,SAAA,CACAV,WADA,WAEA,IAAAW,EAAA1C,KAAAwC,MAAA,GACAG,EAAA,EAIA,OAHAD,IACAC,EAAAD,EAAAX,YAEAY,IAGAC,QApBA,WAqBAC,SAAAC,KAAAC,cAAA,UAAAC,MAAAC,QAAA,OACAJ,SAAA3B,MAAA,aACAlB,KAAAqB,QAAA6B,aAAAC,QAAA,iBACAnD,KAAAqB,QAIArB,KAAAoD,YAHApD,KAAAqB,QAAAgC,OAAA,mBACArD,KAAAqB,SAAA6B,aAAAI,QAAA,gBAAAtD,KAAAqB,UAAArB,KAAAoD,aAKAG,QAAA,CACAzC,UADA,SACAP,GACAP,KAAAU,UAAAH,IACAP,KAAAU,QAAAH,EACAP,KAAAoD,aAGAA,SAPA,eAAAI,EAAAC,OAAAC,EAAA,KAAAD,CAAAE,mBAAAC,KAAA,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAAC,UAAA,OAAAN,mBAAAO,KAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAOAP,EAPAE,EAAAM,OAAA,QAAAC,IAAAP,EAAA,GAAAA,EAAA,GAOA,EAPAG,EAAAE,KAAA,EAQAZ,OAAAe,EAAA,KAAAf,CAAA,CACAgB,IAAArC,EACAsC,OAAA,OACApC,KAAA,CACAqC,OAAA3E,KAAAqB,QACAyC,QACAc,KAAA,MAAA5E,KAAAU,WAEAmE,MAAA,SAAAC,GAAA,OAAAA,EAAAC,WAhBA,OAQAhB,EARAI,EAAAa,KAiBAhF,KAAAwC,MAAAxC,KAAAwC,MAAAyC,OAAAlB,EAAAzB,MAjBA,wBAAA6B,EAAAe,SAAArB,EAAA7D,SAAA,SAAAoD,IAAA,OAAAI,EAAA2B,MAAAnF,KAAAiE,WAAA,OAAAb,EAAA,GAmBAlB,SAnBA,WAoBAlC,KAAA8B,cACA9B,KAAA8B,aAAA9B,KAAA+B,aACAqD,QAAAC,IAAArF,KAAA8B,YAAA9B,KAAA+B,YACA/B,KAAAoD,SAAApD,KAAA8B,eAGAR,SA1BA,SA0BAC,EAAAL,GACA,IAAAoE,EAAAtF,KAAAuF,QAAAC,QAAA,CAAAC,KAAA,0BAAAR,OAAA1D,EAAA,WAAA0D,OAAA/D,KACAwE,OAAAC,KAAAL,EAAA/D,KAAA,aCvFkVqE,EAAA,0BCQlVC,EAAgBpC,OAAAqC,EAAA,KAAArC,CACdmC,EACA9F,EACAqC,GACF,EACA,KACA,WACA,MAIe4D,EAAA,WAAAF","file":"js/chunk-5a46bb88.4d6b5b3b.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StudyImg.vue?vue&type=style&index=0&id=45acd6ac&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StudyImg.vue?vue&type=style&index=0&id=45acd6ac&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"study page\"},[_c('div',{staticClass:\"study-header\"},_vm._l((_vm.navs),function(nav){return _c('span',{key:nav,class:_vm.current === nav ? 'active' : '',on:{\"click\":function($event){return _vm.selectNav(nav)}}},[_vm._v(\"\\n      \"+_vm._s(nav)+\"\\n    \")])}),0),_c('div',{staticClass:\"study-album\"},_vm._l((_vm.album),function(item){return _c('div',{key:item.title,staticClass:\"study-album-item\",attrs:{\"data-href\":(\"https://\" + _vm.keyword + \".org/\" + (item.href))},on:{\"click\":function($event){return _vm.toDetail(item.href, item.title)}}},[_c('div',{staticClass:\"study-album-item-cover\"},[_c('img',{attrs:{\"src\":(\"https://\" + _vm.keyword + \"/\" + (item.cover)),\"alt\":\"\"}})]),_c('span',{staticClass:\"study-album-item-title\"},[_vm._v(_vm._s(item.title))])])}),0),_c('div',{staticClass:\"study-pagination\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.currentPage < this.totalPages),expression:\"this.currentPage < this.totalPages\"}],attrs:{\"ontouchstart\":\"\"},on:{\"click\":_vm.loadMore}},[_vm._v(\"Load more...\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"study page\">\n    <div class=\"study-header\">\n      <span v-for=\"nav in navs\" :key=\"nav\" :class=\"current === nav ? 'active' : ''\" @click=\"selectNav(nav)\">\n        {{nav}}\n      </span>\n    </div>\n\n    <div class=\"study-album\">\n      <div class=\"study-album-item\" @click=\"toDetail(item.href, item.title)\" :data-href=\"`https://${keyword}.org/${item.href}`\" v-for=\"item in album\" :key=\"item.title\">\n        <div class=\"study-album-item-cover\">\n          <img :src=\"`https://${keyword}/${item.cover}`\" alt=\"\">\n        </div>\n        <span class=\"study-album-item-title\">{{item.title}}</span>\n      </div>\n    </div>\n\n    <div class=\"study-pagination\">\n      <span ontouchstart=\"\" v-show=\"this.currentPage < this.totalPages\" @click=\"loadMore\">Load more...</span>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { $fetch } from '@/store'\n\nconst DOMAIN = 'https://jrainlau.com/api/study/imgs'\n\nexport default {\n  data () {\n    return {\n      current: 'kt',\n      navs: ['kt', 'wm', 'mt', 'jq', 'yz', 'zp', 'om', 'yd', 'mx', 'sm', 'ga'],\n      keyword: '',\n      album: [],\n      currentPage: 1\n    }\n  },\n  computed: {\n    totalPages () {\n      const eg = this.album[0]\n      let total = 0\n      if (eg) {\n        total = eg.totalPages\n      }\n      return total\n    }\n  },\n  mounted () {\n    document.body.querySelector('header').style.display = 'none'\n    document.title = 'Study hard'\n    this.keyword = localStorage.getItem('study_keyword')\n    if (!this.keyword) {\n      this.keyword = prompt('Set the keyword')\n      this.keyword && localStorage.setItem('study_keyword', this.keyword) && this.getAlbum()\n    } else {\n      this.getAlbum()\n    }\n  },\n  methods: {\n    selectNav (nav) {\n      if (this.current !== nav) {\n        this.current = nav\n        this.getAlbum()\n      }\n    },\n    async getAlbum (index = 1) {\n      const result = await $fetch({\n        url: DOMAIN,\n        method: 'post',\n        data: {\n          domain: this.keyword,\n          index,\n          cate: 'art' + this.current\n        }\n      }).catch(e => e.response)\n      this.album = this.album.concat(result.data)\n    },\n    loadMore () {\n      this.currentPage++\n      if (this.currentPage <= this.totalPages) {\n        console.log(this.currentPage, this.totalPages)\n        this.getAlbum(this.currentPage)\n      }\n    },\n    toDetail (href, title) {\n      const newRoute = this.$router.resolve({ path: `/study-img/detail?href=${href}&title=${title}` })\n      window.open(newRoute.href, '_blank')\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n@import '../assets/style/variables.less';\n\n.study {\n  height: 100%;\n  width: 100%;\n  overflow: scroll;\n  &-header {\n    width: 100%;\n    box-sizing: border-box;\n    background: @primaryColor;\n    position: fixed;\n    span {\n      box-sizing: border-box;\n      display: inline-block;\n      padding: @gapInner;\n      width: 5rem;\n      color: #fff;\n      text-align: center;\n      &:active {\n        background: #5c007a;\n        border-color: #5c007a;\n        color: #fff;\n      }\n      &.active {\n        background: #5c007a;\n        border-color: #5c007a;\n        color: #fff;\n      }\n    }\n  }\n  &-album {\n    padding: @gapInner;\n    padding-top: calc(@gapInner + 36px);\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    &-item {\n      display: flex;\n      flex-direction: column;\n      width: 18vw;\n      margin-bottom: @gapInner;\n      &-cover {\n        width: 100%;\n        height: 24vw;\n        overflow: hidden;\n        img {\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n        }\n      }\n      &-title {\n        word-break: break-all;\n      }\n    }\n  }\n  &-pagination {\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    margin-bottom: @gapOuter;\n    span {\n      display: inline-block;\n      margin: @gapOuter;\n      padding: @gapInner;\n      border: 1px solid @firstBorderColor;\n      cursor: pointer;\n      &:active {\n        background: #5c007a;\n        border-color: #5c007a;\n        color: #fff;\n      }\n    }\n  }\n}\n\n@media only screen and (max-width: 450px) {\n  .study-album {\n    padding-top: calc(@gapInner + 70px);\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StudyImg.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StudyImg.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StudyImg.vue?vue&type=template&id=45acd6ac&scoped=true&\"\nimport script from \"./StudyImg.vue?vue&type=script&lang=js&\"\nexport * from \"./StudyImg.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StudyImg.vue?vue&type=style&index=0&id=45acd6ac&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"45acd6ac\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}